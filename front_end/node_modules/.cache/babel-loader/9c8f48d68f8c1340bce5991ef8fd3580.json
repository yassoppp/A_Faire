{"ast":null,"code":"var _jsxFileName = \"/Users/yassine/Desktop/A_Faire/front_end/src/components/Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport Input from \"./Input\";\nimport Todolist from \"./Todolist\";\nimport ModifyWindow from \"./modifyWindow\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Main() {\n  _s();\n\n  const [modified, setModified] = useState(false);\n  const [liste_movies, set_list_movies] = useState([]);\n  const [id_modified, setIdModified] = useState(0);\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\n  const signer = provider.getSigner();\n  const contractAddress = 'yourDeployedContractAddressGoesHere';\n  const ABI = [{\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"address\",\n      \"name\": \"previousOwner\",\n      \"type\": \"address\"\n    }, {\n      \"indexed\": true,\n      \"internalType\": \"address\",\n      \"name\": \"newOwner\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"string\",\n      \"name\": \"_tache\",\n      \"type\": \"string\"\n    }],\n    \"name\": \"add_liste_de_tache\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_index\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"delete_liste_de_tache\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"get_liste_de_taches\",\n    \"outputs\": [{\n      \"internalType\": \"string[]\",\n      \"name\": \"\",\n      \"type\": \"string[]\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"liste_de_taches\",\n    \"outputs\": [{\n      \"internalType\": \"string\",\n      \"name\": \"\",\n      \"type\": \"string\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"newOwner\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }];\n  const contract = new ethers.Contract(contractAddress, ABI, signer);\n  useEffect(() => {\n    const requestAccounts = async () => {\n      await provider.send(\"eth_requestAccounts\", []);\n    };\n\n    const get_list_tache = async () => {\n      const liste_tache = await contract.get_liste_de_taches();\n      set_list_movies(liste_tache);\n    };\n\n    requestAccounts().catch(console.error);\n    get_list_tache().catch(console.error);\n  }, []);\n\n  const handleDelete = id => {\n    const new_list = [...liste_movies].filter(movie => liste_movies.indexOf(movie) !== id);\n    set_list_movies(new_list);\n  };\n\n  const handleModified = id => {\n    setModified(true);\n    setIdModified(id);\n  };\n\n  return modified === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Wachouganado ?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      set_list_movies: set_list_movies,\n      liste_movies: liste_movies,\n      contract: contract\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Todolist, {\n      liste_movies: liste_movies,\n      onDelete: handleDelete,\n      onModified: handleModified\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(ModifyWindow, {\n    index: id_modified,\n    setModified: setModified,\n    liste_movies: liste_movies,\n    set_list_movies: set_list_movies\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Main, \"HRo+Q5Bm+brSwU1D+pxQ3MROIrE=\");\n\n_c = Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","ethers","Input","Todolist","ModifyWindow","Main","modified","setModified","liste_movies","set_list_movies","id_modified","setIdModified","provider","providers","Web3Provider","window","ethereum","signer","getSigner","contractAddress","ABI","contract","Contract","requestAccounts","send","get_list_tache","liste_tache","get_liste_de_taches","catch","console","error","handleDelete","id","new_list","filter","movie","indexOf","handleModified"],"sources":["/Users/yassine/Desktop/A_Faire/front_end/src/components/Main.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport Input from \"./Input\";\nimport Todolist from \"./Todolist\";\nimport ModifyWindow from \"./modifyWindow\";\nexport default function Main() {\n  const [modified, setModified] = useState(false);\n  const [liste_movies, set_list_movies] = useState([]);\n  const [id_modified, setIdModified] = useState(0);\n\n  const provider = new ethers.providers.Web3Provider(window.ethereum)\n  const signer = provider.getSigner();\n  const contractAddress = 'yourDeployedContractAddressGoesHere';\n  const ABI=[\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"previousOwner\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"OwnershipTransferred\",\n      \"type\": \"event\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"_tache\",\n          \"type\": \"string\"\n        }\n      ],\n      \"name\": \"add_liste_de_tache\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"_index\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"delete_liste_de_tache\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"get_liste_de_taches\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string[]\",\n          \"name\": \"\",\n          \"type\": \"string[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"liste_de_taches\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"owner\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"renounceOwnership\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"transferOwnership\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ]\n  const contract = new ethers.Contract(contractAddress, ABI, signer);\n  \n\n  useEffect(() => {\n    const requestAccounts = async () => {\n      await provider.send(\"eth_requestAccounts\", []);\n    }\n\n    const get_list_tache = async () => {\n      const liste_tache= await contract.get_liste_de_taches();\n      set_list_movies(liste_tache)\n    }\n    requestAccounts()\n      .catch(console.error)\n    get_list_tache()\n      .catch(console.error)\n  },[]);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  const handleDelete = (id) => {\n    const new_list = [...liste_movies].filter(\n      (movie) => liste_movies.indexOf(movie) !== id\n    );\n    set_list_movies(new_list);\n  };\n  const handleModified = (id) => {\n    setModified(true);\n    setIdModified(id);\n  };\n  return modified === false ? (\n    <div>\n      <h1>Wachouganado ?</h1>\n      <Input set_list_movies={set_list_movies} liste_movies={liste_movies} contract={contract}  />\n      <Todolist\n        liste_movies={liste_movies}\n        onDelete={handleDelete}\n        onModified={handleModified}\n      />\n    </div>\n  ) : (\n    <ModifyWindow\n      index={id_modified}\n      setModified={setModified}\n      liste_movies={liste_movies}\n      set_list_movies={set_list_movies}\n    />\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}